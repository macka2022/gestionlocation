<head>
    <meta charset="UTF-8"/>
    <title>Inscription - Crimson Gestion Location</title>
    <link rel="stylesheet" th:href="@{/vendors/styles/core.css}"/>
    <link rel="stylesheet" th:href="@{/vendors/styles/icon-font.min.css}"/>
    <link rel="stylesheet" th:href="@{/src/plugins/jquery-steps/jquery.steps.css}"/>
    <link rel="stylesheet" th:href="@{/src/plugins/datatables/css/dataTables.bootstrap4.min.css}"/>
    <link rel="stylesheet" th:href="@{/src/plugins/datatables/css/responsive.bootstrap4.min.css}"/>
    <link rel="stylesheet" th:href="@{/vendors/styles/style.css}"/>
    <style>
        .topbar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background-color: crimson;
            padding: 0.7rem 1.5rem;
            color: white;
            font-family: 'Poppins', sans-serif;
        }

        .topbar .logo {
            height: 40px;
        }

        .nav-links {
            display: flex;
            gap: 1.2rem;
            list-style: none;
            margin: 0;
            padding: 0;
        }

        .nav-links a {
            color: white;
            text-decoration: none;
            font-weight: 500;
            transition: color 0.3s;
        }

        .nav-links a:hover {
            color: #ffd6d6;
        }

        .user-name {
            margin-right: 1rem;
            font-weight: bold;
        }

        .logout-btn {
            color: white;
            text-decoration: none;
        }
        .logout-btn:hover {
            color: #ffd6d6;
        }

        body {
            background-color: #fff0f2;
            font-family: 'Inter', sans-serif;
        }
        .register-box {
            border-radius: 1rem;
            box-shadow: 0 6px 20px rgba(178,34,34,.3);
        }
        .wizard-content h5 {
            color: crimson;
            font-weight: 600;
        }
        .btn-crimson {
            background-color: crimson;
            color: white;
            border-radius: 8px;
            font-weight: 600;
        }
        .btn-crimson:hover {
            background-color: #b22222;
        }
        .custom-control-label {
            color: #b22222;
        }
        .login-header, .welcome-modal {
            background-color: crimson;
            color: white;
        }
        label {
            font-weight: 500;
            color: #b22222;
        }
        .form-control:focus {
            border-color: crimson;
            box-shadow: 0 0 0 0.2rem rgba(178,34,34,.25);
        }
    </style>
</head>
<body>

<div  class="topbar" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

    <div class="topbar-left">
        <a href="/">
            <img src="vendors/images/deskapp-logo-white.svg" alt="logo" class="logo"/>
        </a>
    </div>

    <div class="topbar-center">
        <ul class="nav-links">
            <!-- ADMIN -->
            <li sec:authorize="hasRole('ADMIN')">
                <a th:href="@{/immobilier/immeuble/admin/list}"><i class="bi bi-house"></i> Immeubles</a>
            </li>
            <li sec:authorize="hasRole('ADMIN')">
                <a th:href="@{/immobilier/utilisateur/list}"><i class="bi bi-people"></i> Utilisateurs</a>
            </li>
            <li sec:authorize="hasRole('ADMIN')">
                <a th:href="@{/contrats/admin/list}"><i class="bi bi-file-text"></i> Contrats</a>
            </li>
            <li sec:authorize="hasRole('ADMIN')">
                <a th:href="@{/paiements/contrat}"><i class="bi bi-currency-dollar"></i> Paiements</a>
            </li>
            <li sec:authorize="hasRole('ADMIN')">
                <a th:href="@{/admin/dashboard}"><i class="bi bi-speedometer2"></i> Dashboard</a>
            </li>

            <!-- LOCATAIRE -->
            <li sec:authorize="hasRole('LOCATAIRE')">
                <a th:href="@{/immobilier/immeuble/locataire/list}"><i class="bi bi-building"></i> Mes Immeubles</a>
            </li>
            <li sec:authorize="hasRole('LOCATAIRE')">
                <a th:href="@{/demandes/mes-demandes}"><i class="bi bi-card-checklist"></i> Mes Réservations</a>
            </li>
            <li sec:authorize="hasRole('LOCATAIRE')">
                <a th:href="@{/contrats/locataire/list}"><i class="bi bi-file-text"></i> Mes Contrats</a>
            </li>

            <!-- PROPRIETAIRE -->
            <li sec:authorize="hasRole('PROPRIETAIRE')">
                <a th:href="@{/immobilier/immeuble/proprietaire/list}"><i class="bi bi-building"></i> Immeubles</a>
            </li>
            <li sec:authorize="hasRole('PROPRIETAIRE')">
                <a th:href="@{/immobilier/immeuble/add}"><i class="bi bi-plus-square"></i> Ajouter Immeuble</a>
            </li>
            <li sec:authorize="hasRole('PROPRIETAIRE')">
                <a th:href="@{/contrats/proprietaire/list}"><i class="bi bi-file-text"></i> Contrats</a>
            </li>
            <li sec:authorize="hasRole('PROPRIETAIRE')">
                <a th:href="@{/contrats/proprietaire/add}"><i class="bi bi-plus-square"></i> Ajouter Contrat</a>
            </li>
        </ul>
    </div>

    <div class="topbar-right">
        <span sec:authentication="name" class="user-name"></span>
        <a th:href="@{/logout}" class="logout-btn"><i class="bi bi-box-arrow-right"></i></a>
    </div>
</div>

<div class="register-page-wrap d-flex align-items-center flex-wrap justify-content-center">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-md-6 col-lg-7">
                <img th:src="@{/vendors/images/register-page-img.png}" alt=""/>
            </div>
            <div class="col-md-6 col-lg-5">
                <div class="register-box bg-white box-shadow border-radius-10">
                    <div class="wizard-content">
                        <form class="tab-wizard2 wizard-circle wizard"
                              th:action="@{/immobilier/utilisateur/addnew}"
                              th:object="${utilisateur}"
                              method="post">
                            <h5>Identifiants de compte de base</h5>
                            <section>
                                <div class="form-wrap max-width-600 mx-auto">
                                    <div class="form-group row">
                                        <label class="col-sm-4 col-form-label">Email*</label>
                                        <div class="col-sm-8">
                                            <input type="email" th:field="*{email}" class="form-control"/>
                                        </div>
                                    </div>
                                    <div class="form-group row">
                                        <label class="col-sm-4 col-form-label">Nom*</label>
                                        <div class="col-sm-8">
                                            <input type="text" class="form-control" th:field="*{nom}" />
                                        </div>
                                    </div>
                                    <div class="form-group row">
                                        <label class="col-sm-4 col-form-label">Prénom*</label>
                                        <div class="col-sm-8">
                                            <input type="text" class="form-control" th:field="*{prenom}" />
                                        </div>
                                    </div>
                                    <div class="form-group row">
                                        <label class="col-sm-4 col-form-label">Téléphone*</label>
                                        <div class="col-sm-8">
                                            <input type="text" class="form-control" th:field="*{telephone}" />
                                        </div>
                                    </div>
                                </div>
                            </section>

                            <h5>Sécurité de l'application</h5>
                            <section>
                                <div class="form-wrap max-width-600 mx-auto">
                                    <div class="form-group row">
                                        <label class="col-sm-4 col-form-label">Password*</label>
                                        <div class="col-sm-8">
                                            <input type="password" class="form-control" th:field="*{password}" />
                                        </div>
                                    </div>
                                    <div class="form-group row">
                                        <label class="col-sm-4 col-form-label">Confirmation*</label>
                                        <div class="col-sm-8">
                                            <input type="password" class="form-control"/>
                                        </div>
                                    </div>
                                    <div class="form-group row">
                                        <label class="col-sm-4 col-form-label">Role*</label>
                                        <div class="col-sm-8">
                                            <select class="form-control" th:field="*{role}">
                                                <option value="ADMIN">ADMIN</option>
                                                <option value="LOCATAIRE">LOCATAIRE</option>
                                                <option value="PROPRIETAIRE">PROPRIETAIRE</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                            </section>

                            <h5>Vérification des informations</h5>
                            <section>
                                <div class="form-wrap max-width-600 mx-auto">
                                    <div class="custom-control custom-checkbox mt-4">
                                        <input type="checkbox" class="custom-control-input" id="customCheck1"/>
                                        <label class="custom-control-label" for="customCheck1">
                                            Confirmation pour ajouter l'utilisateur
                                        </label>
                                    </div>
                                </div>
                            </section>

                            <button type="submit" class="btn btn-crimson mt-3">Enregistrer</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script th:src="@{/vendors/scripts/core.js}"></script>
<script th:src="@{/vendors/scripts/script.min.js}"></script>
<script th:src="@{/vendors/scripts/process.js}"></script>
<script th:src="@{/vendors/scripts/layout-settings.js}"></script>
<script th:src="@{/src/plugins/jquery-steps/jquery.steps.js}"></script>
<script th:src="@{/vendors/scripts/steps-setting.js}"></script>

</body>
